<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/template/layout.xhtml">
	<ui:define name="title">Edit Activity</ui:define>
	<ui:define name="content">
		<f:view>

			<h1>New Activity</h1>
			<h:form id="editActivityForm">
				<c:set var="a" value="#{activity.currentActivity}" />

				<h:outputText value="#{activity.currentActivity}" />

				<div class="form-group">
					<h:inputText id="title" value="#{a.title}"
						styleClass="form-control" required="true"
						requiredMessage="Le titre est obligatoire" pt:placeholder="Title">
						<f:validateLength minimum="3" maximum="60" />
					</h:inputText>
					<h:message styleClass="label label-danger" for="title" />
				</div>

				<div class="form-group">
					<h:inputText id="year" value="#{a.year}" styleClass="form-control"
						required="true" pt:placeholder="Year">
					</h:inputText>
					<h:message styleClass="label label-danger" for="year" />
				</div>

				<div class="form-group">
					<h:selectOneMenu id="nature" value="#{a.nature}"
						styleClass="form-control" required="true" pt.placeholder="Nature">
						<f:selectItems value="#{activity.natures}" />
					</h:selectOneMenu>
				</div>

				<div class="form-group">
					<h:inputTextarea id="description" value="#{a.description}"
						placeholder="Description" styleClass="form-control" cols="50"
						rows="5" pt:placeholder="Description" />
					<h:message styleClass="label label-danger" for="description" />
				</div>

				<div class="form-group">
					<h:inputText id="website" value="#{a.webAddress}"
						placeholder="Site web" styleClass="form-control" cols="50"
						rows="5" pt:placeholder="Web Address" />
					<h:message styleClass="label label-danger" for="website" />
				</div>

				<div class="form-group">
					<h:commandButton action="#{activity.saveActivity(user.userLogged)}"
						styleClass="btn btn-primary" value="Save">
						<f:ajax execute="@form" render="@form" />
					</h:commandButton>
					<span> </span>
					<h:link styleClass="btn btn-info" outcome="activities"
						value="Cancel" />
				</div>
			</h:form>

		</f:view>
	</ui:define>
</ui:composition>

</html>